@home.main("test"){

    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("FormValidation/dist/css/formValidation.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("bootstrap-fileinput-master/css/fileinput.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("bootstrap-sweetalert-master/dist/sweetalert.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/custom.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("css/media-queries.css")">

    <script src="@routes.Assets.versioned("FormValidation/dist/js/formValidation.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("bootstrap-fileinput-master/js/fileinput.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("FormValidation/dist/js/framework/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("layer-v3.0/layer/layer.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("bootstrap-sweetalert-master/dist/sweetalert.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("js/custom.js")" type="text/javascript"></script>


    <div class="banner-three">
        <div class="container">
            <div class="about-left">

            </div>
        </div>
    </div>

    <div id="container" class="clearfix">
        <div id="content" class="full-width">
            <ul class="tabs-nav">
                <li class="active"><a href="#blastnGenome">Blastn Genome</a></li>
                <li class=""><a href="#blastn">Blastn Gene</a></li>
                <li class=""><a href="#blastp">Blastp</a></li>
            </ul>
            <div class="tabs-container">

                <div class="tab-content" style="display: none;">
                    <div class="tab-pane active" id="blastnGenome" style="margin-top: 10px;">
                        <form class="form-horizontal fv-form fv-form-bootstrap" method="get" id="genomeForm" novalidate="novalidate"><button type="submit" class="fv-hidden-submit" style="display: none; width: 0px; height: 0px;"></button>
                            <h4>Blastn Genome</h4>
                            <hr>

                            <input class="form-control" name="blastType" value="blastnGenome" style="display: none;">

                            <div class="form-group">
                                <label class="control-label col-sm-3">Type of query:</label>
                                <div class="col-sm-4">
                                    <select class="form-control" onchange="change(this, 'blastnGenome')" name="method">
                                        <option selected="" value="text">Text</option>
                                        <option value="file">File</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group has-feedback" id="blastnGenomeQueryContent">
                                <label class="control-label col-sm-3">Enter FASTA sequences:</label>
                                <div class="col-sm-8">
                                    <textarea class="form-control monospace" name="queryText" id="queryText" rows="5" data-fv-field="queryText"></textarea><i class="form-control-feedback" data-fv-icon-for="queryText" style="display: none;"></i>
                                    <span class="help-block">
                                        e.g.,&nbsp;<a href="#" onclick="showExample('dna', 'genomeForm')"><em id="egQuery">
                                        example</em></a></span>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="queryText" data-fv-result="NOT_VALIDATED" style="display: none;">This is not be empty!</small></div>
                            </div>

                            <div class="form-group has-feedback" id="blastnGenomeQueryFile" style="display: none;">
                                <label class="control-label col-sm-3">upload file:</label>
                                <div class="col-sm-8">
                                    <input id="input-1" type="file" class="file control-label" name="file" data-show-preview="false"
                                    data-show-upload="false" accept=".fa,.fasta">
                                </div>
                            </div>



                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Evalue:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="evalue" id="evalue" value="1e-5" data-fv-field="evalue"><i class="form-control-feedback" data-fv-icon-for="evalue" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue is required！</small><small class="help-block" data-fv-validator="numeric" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must be number！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must greater than or equal to 0！</small></div>

                                <label class="control-label col-sm-3">Word size:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="wordSize" id="wordSize" value="28" data-fv-field="wordSize"><i class="form-control-feedback" data-fv-icon-for="wordSize" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must be intger！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must greater than or equal to 4！</small></div>

                            </div>

                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Max target seqs:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="maxTargetSeqs" id="mCharacteristic" value="2" data-fv-field="maxTargetSeqs"><i class="form-control-feedback" data-fv-icon-for="maxTargetSeqs" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must be integer！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must greater than or equal to 0！</small></div>
                            </div>

                            <hr>
                            <div class="form-group">
                                <div class="actions col-sm-offset-3 col-sm-3">
                                    <button type="button" class="btn btn-primary" style="width: 90%;" id="search" onclick="blast('genomeForm')">
                                        Search</button>
                                </div>
                                <div class="actions  col-sm-3">
                                    <button type="reset" class="btn btn-primary" onclick="Reset('blastnGenome')" style="width: 90%;">
                                        Reset</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="tab-content" style="display: none;">
                    <div class="tab-pane active" id="blastn" style="margin-top: 10px;">
                        <form class="form-horizontal fv-form fv-form-bootstrap" method="get" id="form" novalidate="novalidate"><button type="submit" class="fv-hidden-submit" style="display: none; width: 0px; height: 0px;"></button>
                            <h4>Blastn Gene</h4>
                            <hr>

                            <input class="form-control" name="blastType" value="blastn" style="display: none;">

                            <div class="form-group">
                                <label class="control-label col-sm-3">Type of query:</label>
                                <div class="col-sm-4">
                                    <select class="form-control" onchange="change(this, 'blastn')" name="method">
                                        <option selected="" value="text">Text</option>
                                        <option value="file">File</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group has-feedback" id="blastnQueryContent">
                                <label class="control-label col-sm-3">Enter FASTA sequences:</label>
                                <div class="col-sm-8">
                                    <textarea class="form-control monospace" name="queryText" id="queryText" rows="5" data-fv-field="queryText"></textarea><i class="form-control-feedback" data-fv-icon-for="queryText" style="display: none;"></i>
                                    <span class="help-block">
                                        e.g.,&nbsp;<a href="#" onclick="showExample('dna', 'form')"><em id="egQuery">
                                        example</em></a></span>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="queryText" data-fv-result="NOT_VALIDATED" style="display: none;">This is not be empty!</small></div>
                            </div>

                            <div class="form-group has-feedback" id="blastnQueryFile" style="display: none;">
                                <label class="control-label col-sm-3">upload file:</label>
                                <div class="col-sm-8">
                                    <input id="input-1" type="file" class="file control-label" name="file" data-show-preview="false"
                                    data-show-upload="false" accept=".fa,.fasta">
                                </div>

                            </div>


                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Evalue:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="evalue" id="evalue" value="1e-5" data-fv-field="evalue"><i class="form-control-feedback" data-fv-icon-for="evalue" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue is required！</small><small class="help-block" data-fv-validator="numeric" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must be number！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must greater than or equal to 0！</small></div>

                                <label class="control-label col-sm-3">Word size:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="wordSize" id="wordSize" value="28" data-fv-field="wordSize"><i class="form-control-feedback" data-fv-icon-for="wordSize" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must be intger！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must greater than or equal to 4！</small></div>

                            </div>

                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Max target seqs:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="maxTargetSeqs" id="mCharacteristic" value="2" data-fv-field="maxTargetSeqs"><i class="form-control-feedback" data-fv-icon-for="maxTargetSeqs" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must be integer！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must greater than or equal to 0！</small></div>
                            </div>

                            <hr>
                            <div class="form-group">
                                <div class="actions col-sm-offset-3 col-sm-3">
                                    <button type="button" class="btn btn-primary" style="width: 90%;" id="search" onclick="blast('form')">
                                        Search</button>
                                </div>
                                <div class="actions  col-sm-3">
                                    <button type="reset" onclick="Reset('blastn')" class="btn btn-primary" style="width: 90%;">
                                        Reset</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="tab-content" style="display: block;">
                    <div class="tab-pane active" id="blastp" style="margin-top: 10px;">
                        <form class="form-horizontal fv-form fv-form-bootstrap" method="get" id="blastpForm" novalidate="novalidate"><button type="submit" class="fv-hidden-submit" style="display: none; width: 0px; height: 0px;"></button>
                            <h4>Blastp</h4>
                            <hr>

                            <input class="form-control" name="blastType" value="blastp" style="display: none;">

                            <div>

                            </div>


                            <div class="form-group">
                                <label class="control-label col-sm-3">Type of query:</label>
                                <div class="col-sm-4">
                                    <select class="form-control" onchange="change(this, 'blastp')" name="method">
                                        <option selected="" value="text">Text</option>
                                        <option value="file">File</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group has-feedback" id="blastpQueryContent">
                                <label class="control-label col-sm-3">Enter FASTA sequences:</label>
                                <div class="col-sm-8">
                                    <textarea class="form-control monospace" name="queryText" id="queryText" rows="5" data-fv-field="queryText"></textarea><i class="form-control-feedback" data-fv-icon-for="queryText" style="display: none;"></i>
                                    <span class="help-block">
                                        e.g.,&nbsp;<a href="#" onclick="showExample('protein', 'blastpForm')"><em id="egQuery">
                                        example</em></a></span>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="queryText" data-fv-result="NOT_VALIDATED" style="display: none;">This is not be empty!</small></div>
                            </div>

                            <div class="form-group has-feedback" id="blastpQueryFile" style="display: none;">
                                <label class="control-label col-sm-3">Upload file:</label>
                                <div class="col-sm-8">
                                    <input id="input-1" type="file" class="file control-label" name="file" data-show-preview="false"
                                    data-show-upload="false" accept=".fa,.fasta">
                                </div>
                            </div>



                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Evalue:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="evalue" id="evalue" value="1e-5" data-fv-field="evalue"><i class="form-control-feedback" data-fv-icon-for="evalue" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue is required！</small><small class="help-block" data-fv-validator="numeric" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must be number！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="evalue" data-fv-result="NOT_VALIDATED" style="display: none;">Evalue must greater than or equal to 0！</small></div>

                                <label class="control-label col-sm-3">Word size:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="wordSize" id="wordSize" value="3" data-fv-field="wordSize"><i class="form-control-feedback" data-fv-icon-for="wordSize" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must be intger！</small><small class="help-block" data-fv-validator="between" data-fv-for="wordSize" data-fv-result="NOT_VALIDATED" style="display: none;">Word size must less than  8！</small></div>

                            </div>

                            <div class="form-group has-feedback">
                                <label class="control-label col-sm-3">Max target seqs:</label>
                                <div class="col-sm-2">
                                    <input class="form-control" name="maxTargetSeqs" id="mCharacteristic" value="2" data-fv-field="maxTargetSeqs"><i class="form-control-feedback" data-fv-icon-for="maxTargetSeqs" style="display: none;"></i>
                                    <small class="help-block" data-fv-validator="notEmpty" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs is required！</small><small class="help-block" data-fv-validator="integer" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must be integer！</small><small class="help-block" data-fv-validator="greaterThan" data-fv-for="maxTargetSeqs" data-fv-result="NOT_VALIDATED" style="display: none;">Max target seqs must greater than or equal to 0！</small></div>
                            </div>

                            <hr>
                            <div class="form-group">
                                <div class="actions col-sm-offset-3 col-sm-3">
                                    <button type="button" class="btn btn-primary" style="width: 90%;" id="search" onclick="blast('blastpForm')">
                                        Search</button>
                                </div>
                                <div class="actions  col-sm-3">
                                    <button type="reset" class="btn btn-primary" onclick="Reset('blastp')" style="width: 90%;">
                                        Reset</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <a href="#result"><div id="showResult"></div></a>

            <div id="result" style="display: none">
                <hr>
                <h4 style="color: black;float: left">Result:</h4>
                <button class="btn btn-primary down" onclick="downloadExcel()" style="float: left;margin-left: 15px;margin-top: -5px">Download</button>
                <iframe id="frame" style="width: 1200px;" height="1000px" frameborder="0" align="middle">

                </iframe>

            </div>

        </div>
    </div>


    <script type="text/javascript" src="@routes.Assets.versioned("mscroll/js/mscroll.js")" ></script>
    <script type="text/javascript" src="@routes.Assets.versioned("FileSaver.js-master/FileSaver.min.js")" ></script>

    <script>

            // function shiftBlast(types) {
            //     if(types==='g'){
            //         $("#blastTitle").html("Blastn Genome")
            //         $("#formGenome #wordSize").val("28")
            //         $("#blastType").val("blastnGenome")
            //         $("#showExample").removeAttr("onclick");
            //         $("#showExample").attr("onclick","showExample('dna', 'formGenome')")
            //         $("#formGenome #queryText").val(" ");
            //         $("#" + formId).formValidation("revalidateField", "queryText")
            //
            //     }else if(types==='n'){
            //         $("#blastTitle").html("Blastn Gene")
            //         $("#formGenome #wordSize").val("28")
            //         $("#blastType").val("blastn")
            //         $("#showExample").removeAttr("onclick");
            //         $("#showExample").attr("onclick","showExample('cds', 'formGenome')")
            //         $("#formGenome #queryText").val(" ");
            //         $("#formGenome").formValidation("revalidateField", "queryText")
            //
            //     }else{
            //         $("#blastTitle").html("Blastp")
            //         $("#formGenome #wordSize").val("3")
            //         $("#blastType").val("blastp")
            //         $("#showExample").removeAttr("onclick");
            //         $("#showExample").attr("onclick","showExample('pep', 'formGenome')")
            //         $("#formGenome #queryText").val(" ");
            //         $("#formGenome").formValidation("revalidateField", "queryText")
            //     }
            //
            // }

            var excel = "";


            var dna = ">Smechr0100001.1\n" +
                    "ATGTCAGCTTCTCAAGCGCTAGGCGGGCCTTCCCGCTGTGGTTGGGTGCTGGGTCCGTCTCTTGATAAGATCATCAAGAACGTCGCCTGGAGGAAACATT" +
                    "CGCAGCTCGTCGCTGCCTGCAAGTCCGCTCTCGACAAGCTTGATTCCGTAGTTGACGACCCAGTCGATCCAGCTTCCTGCACCCCTCTCTATGGTCTCTC" +
                    "TCCGTCGGATGCCGATTTCGTCTTGCAACCCCTCATCATGGCTCTCGATTCTGCCTCTCCCAAAGTTGTTGAACCTGCACTCGATTGCTCCTTCAGGTTG" +
                    "TTCTCCTTGGGCTTGATCCGCTGCGAGATCGAGACCCCCACCCCCTACCCCACCCCCAGCCCCAACGCTAACCCAAGTCCCTACTCCCACATTTTCCGCC" +
                    "TAATAGATTCCGTCTGTAAGTGCGGGGCTCTTGGGGATGAAGCGATCGAGCTTGCTGTTCTCAGGGTCTTGCTTTCTGCCATTCGATCTCCCTACGTGCT" +
                    "TGTTAGAGGTGATTGCCTTGTCCACATTGTTAGGTCCTGTTACAATGTCTATCTAGGAGGCATGAATGGTACCAATCAGATCTGCGCCAAGTCCGTTCTT" +
                    "GCTCAGATGATGATAATTGTTTTCACAAGAGTGGAGGAGAATTCCATGATGGTGAACTTCAAGACTGTCTCTGTAGCTGAACTCTTGGAGTTCACGGATA" +
                    "GAAATTTGAACGAGGGCAGCTCTATACAGATGGCCCAGAACTTCCTCAATGAGATTGTGGATGTCAAGTCTAAGGAAGGCATCACTGAATCTAAGTTGTG" +
                    "TTTGCTGTTGGAGAATGATAACAGTGAAAAGAAGGGTGAGCCCATTGACAGTGAACCGGGTGAAGGAGCTGATCTGAGTGGTTACAATAAGATTAGAGAG" +
                    "GATGGGTTCATGCTCTTCAAGAATTTGTGCAAGTTGTCTATGAAATTCTCATCACAAGAGCACGCAGATGACAATATTTTGTTAAGGGGGAAAGTACTAT" +
                    "CATTGGAGCTTCTAAAGGTTATCATGGATAATGCTGGTCCTATTTGGCGCTCAAATGAGAGATTTCTTAATGTTATCAAGCAATTTTTGTGCTTGTCATT" +
                    "GTTGAAGAACAGTGCACTATCTGTGATGACGATCTTTCAACTTCTTTGTTCAATATTCAAGAACTTATTATCAAAATATAGATCTGGGTTGAAATCAGAA" +
                    "ATTGGAATCTTCTTCCCCATGCTCATCTTACGTGTGCTGGAGAATGTACTTCAGCCTAGTTTTTTGCAGAAGATGACTGTTTTGGGTTTGCTGGAGGACA" +
                    "TATCTAAGGATCCCCAGGTTATTATCGATGTATTTGTAAACTATGATTGTGATGTTGATGCTCCTAACATATTTGAAAGGACTGTTAATGGTCTTCTTAA" +
                    "AACTGCACTTGGTCCGCCTCCTGGTTCCACTACTACGCTGTCCCCAGTCCAAGATATTACATTTCGTTCTGAATCTGTGAAATGCTTAGTCACAATTATA" +
                    "AAGTCAATGGGGATGTGGATGGACCAACAACTGAAGGTAGGGGATCCCAATCAAGATAAAGTGTCTGATCATGAAGTGTCAGAAGCGGCTACTGGTGTCG" +
                    "GCGAAGAGGGTAATATAGACTATGAGCTGCATCCGGAAGCGAATTCTGAATTTTCTGGTGCTGCTGCCTTGGAGCAGCGTCGTGCTCATAAATTAGAAAT" +
                    "ACAGAAAGGCATTTCACTGTTCAACAGAAAGCCTTCAAAGGGTATTGATTTCTTAATGAGCACCAAAAAGATTGGCAATTCCCCAGAAGAAGTAGCTTCT" +
                    "TTTCTGAAAAATACAACTGGATTGAATCCGACCATCATTGGTGATTATTTGGGTGAAAGAGATGAGTTCCATCTGAAAGTTATGCATGCATATGTCGATT" +
                    "CTTTTAATTTTGAAGGTATGGACTTTGGTGAATCAATCAGATATTTCCTTCGAGGGTTCAGATTACCTGGTGAAGCTCAGAAGATTGACCGTATAATGGA" +
                    "GAAGTTTGCGGAGCGCTATTGTAAATGCAATCCTAACTCTTTTACCAGCGCAGATACAGCTTATGTGCTTGCTTACTCTGTGATAATGCTCAATACAGAT" +
                    "GCACATAATAGCATGGTGAAAGATAAGATGACAAAAGCTGATTTTCTCCGGAACAATCGGGGGATTGACGACGGAAAGGATTTACCTGAAGATTATTTGG" +
                    "GTGCTCTTTATGACCAAATTGTAAGAAATGAGATAAAGATGAAAGCAGATTCTTCCGCTCCACAAAACAAGCAGGGGAACAGTCTTAATAAGCTGTTGGG" +
                    "CTTGGATGGTATACTGAATCTAGTATGGAAGCAGCGAGAGGAAAAACCATTGGGTGCAAATGGAATTCTAGTGAAGCATATTCAAGAGCAGTTTAAGGCA" +
                    "AAATCTGGAAAATCTGAGTCTATTTATTATGTCATTGCAGATCCAGCTATATTGAGATTTATGGTAGAAGTCTGCTGGGGTCCCATGCTTGCTGCTTTCA" +
                    "GTGTCACCCTAGACCAGAGTGATGATAAGAATGCCACTTCTCAATGTTTGCTAGGTTGCAGGCATGCTGTGCACATTACAGCTGTGATGGGTATGCAGAC" +
                    "TCAGCGAGATGCTTTTGTCACCACTATGGCAAAGTTCACCAATCTTCATTGTGCGGCCGACATGAAACAAAAAAATGTTGATACAATGAAAACAATAATG" +
                    "TCAATTGCCATTGAAGATGGGAACTATCTTCATGAAGCATGGGAGCATATATTGACATGTCTATCTCGATTTGAGCATCTGCAGTTGCTGGGGGAGGGTG" +
                    "CACCATCTGATTCTTCCTTTTTTACTACCTCGAGCTCTGAATCTGAGGAAAAGTCATTGAAGTCAGCTGGATTTCCATCACTGAAGAAAAAAGGGACACT" +
                    "CCAGAATCCAACTGTTGCTGCTGTTGTTCGAGGGGGTTCATATGATAGCGCAACCGTTGGAGCTAACTCTCCAGCATTGGTGACTCCAGAACAGATAAATAACTTCATTTCAAACTTGAACTTGCTTGATCAGATCGGCAACTTTGAACTAAATCACATATTTGCTCATAGCCAAAGGCTGAACAGTGAAGCAATAGTAGCTTTTGTCAAGGCCCTTTGCAAAGTTTCAATGTCAGAACTACAGTCTCCAACAGATCCCCGTGTATTTAGCCTTACAAAAATTGTTGAAGTTGCGCACTATAACATGAACCGTATCAGATTAGTGTGGTCCCACATATGGAGTGTTCTTTCAGAGTTCTTTGTGGCTGTTGGTTTGTCAGAAAATCTTTCAGTTGCAATTTTTGTTATGGACTCGTTGCGACAACTTGCTATGAAGTTTTTAGAAAGAGAGGAACTGGCGAATTACAACTTTCAGAATGAATTTTTGAGACCATTTGTTATTGTTATGCAGAAAAGTAATTCTGCCGAAATCAGGGAGCTGATAGTTCGTTGTATTTCTCAAATGGTTCTGAGTCGGGTCAATAATGTAAAATCGGGGTGGAAGAGTGTTTTTATGGTTTTTACAGCTGCTGCTGCAGATGAAAGGAAGAATATTGTGTTGCTGGCCTTTGAAACCATGGAAAAGATTGTACGGGAATATTTTCGTTACATCACTGAGACTGAAACATTGACTTTTACGGATTGTGTTAGATGCCTCATCACCTTCACAAACAGCAGATTCAACAGTGATGTTAGCCTCAACGCAATTGCTTTTCTCCGTTTCTGTGCTGTCAAACTTGCAGAAGGGGGCCTTATTAGCAACGAGAAAAACAAAAATAATGATTTAGCCATTCCTGCGGCCGAAAAAGAAGCTTCGGATGGGCTAATCTTCACAGATAAGGATGACTACATGTCTTTCTGGGAGCCTCTGCTCACAGGGTTATCAAGATTGACTTCTGATCCTCGATCAGCTATTAGAAAGAGTGCGTTGGAAGTTCTGTTCAACATCTTGAAGGACCACGGTCATCTCTTCCCACGCCTATTCTGGATTAATGTCTTCAAGTCTGTAATCTATCCAATATTCAGTCCAGTAAATGATAGCACAGAAGCTCAAGTGAAATCCAGATACATACCACCACCAGGTGGATGCTTATGGGACTCTGAAACTTCTGTGGTGGCAACTCAATGTTTGGTGGATTTATTTGTTAATTTCTTTGATATTGTGAGGTCTGAATTGCCCAGTGTAGTCTCTGTAATGGTAGGGTTTATAAAAGGTTCTGGCAAGGATCCTGCAGCCACTGGGGTAGCTTCTGTAATGAGGTTGGCAGGTGATTTGAGAGGCAAATTCATTGAAGAGGAATGGAAAGTTATCTTTCTAGCTCTGGAAGAAGCTTCGTATTCCACTCTGCCCAATTTTCTGAAGCTATTGAGAACAATGGACAACATTGAGATATCTTCTAGTCAGTCCGAAAATGATATGGAAACATCTTCTGGGGCTGGATTGGCAAATGATGAATCAGAGGATGACAACCTGCATACTGCGGGATATGTTGTATCAAGAATGAAAGATCATATAGCGGCTCAGTTGCGCATCATACAGGTGTCGTCTGATGTCTACAATATGTGTCGGCAATCAGTATCAGCTGATACTGTCAATGTCCTCCTTGGAATCTATTCAGCTGTCACTTCTCATGCCCGGCAACTGAAATCTGAGAAAGTTGTACAAGTGAAGCTGCAGAAAGCATGTTCTATCCTTGAGATACCAGAACCTCCACTGGTGTTTTTTGAAAATGAATCCTATCAGAATTACCTCACTTTCTTGCATGGGCTGCTTGTGAACAATTCATCATTTGTCGAAGAGAAGAATATAGAACCAAAACTTGTGGGTGTATGTGAAGAAATTCTGCACATATACTTGGACTGTGCTGGGTTGAGCTCTGTCAAGAGGAAAGCAGATGATAAGGCAATATACCAATGGAATCTTCCCTTAAGTTCGGCTAAGAAGGAAGAACTGGTAGCAAGGACTCCTTTGGTTCTGTCAGTACTACGCATTCTGTGCAGTTGGCAAACTGATTCTTTTAGGAAGTACATTTCTCAGTTGTTCCCATTAATGATAGATCTTGTTCGGAGTGAGCACAGCTCAGGAGAGGTTCAGCGTGAACTAAGCCATTTTTTCCAATCCTGTATCGGCCCTATTATTCTGAAATTGTGA\n";
            var cds =">Smechr0100001.1\n" +
                    "ATGTCAGCTTCTCAAGCGCTAGGCGGGCCTTCCCGCTGTGGTTGGGTGCTGGGTCCGTCTCTTGATAAGATCATCAAGAACGTCGCCTGGAGGAAACATTCGCAGCTCGTCGCTGCCTGCAAGTCCGCTCTCGACAAGCTTGATTCCGTAGTTGACGACCCAGTCGATCCAGCTTCCTGCACCCCTCTCTATGGTCTCTCTCCGTCGGATGCCGATTTCGTCTTGCAACCCCTCATCATGGCTCTCGATTCTGCCTCTCCCAAAGTTGTTGAACCTGCACTCGATTGCTCCTTCAGGTTGTTCTCCTTGGGCTTGATCCGCTGCGAGATCGAGACCCCCACCCCCTACCCCACCCCCAGCCCCAACGCTAACCCAAGTCCCTACTCCCACATTTTCCGCCTAATAGATTCCGTCTGTAAGTGCGGGGCTCTTGGGGATGAAGCGATCGAGCTTGCTGTTCTCAGGGTCTTGCTTTCTGCCATTCGATCTCCCTACGTGCTTGTTAGAGGTGATTGCCTTGTCCACATTGTTAGGTCCTGTTACAATGTCTATCTAGGAGGCATGAATGGTACCAATCAGATCTGCGCCAAGTCCGTTCTTGCTCAGATGATGATAATTGTTTTCACAAGAGTGGAGGAGAATTCCATGATGGTGAACTTCAAGACTGTCTCTGTAGCTGAACTCTTGGAGTTCACGGATAGAAATTTGAACGAGGGCAGCTCTATACAGATGGCCCAGAACTTCCTCAATGAGATTGTGGATGTCAAGTCTAAGGAAGGCATCACTGAATCTAAGTTGTGTTTGCTGTTGGAGAATGATAACAGTGAAAAGAAGGGTGAGCCCATTGACAGTGAACCGGGTGAAGGAGCTGATCTGAGTGGTTACAATAAGATTAGAGAGGATGGGTTCATGCTCTTCAAGAATTTGTGCAAGTTGTCTATGAAATTCTCATCACAAGAGCACGCAGATGACAATATTTTGTTAAGGGGGAAAGTACTATCATTGGAGCTTCTAAAGGTTATCATGGATAATGCTGGTCCTATTTGGCGCTCAAATGAGAGATTTCTTAATGTTATCAAGCAATTTTTGTGCTTGTCATTGTTGAAGAACAGTGCACTATCTGTGATGACGATCTTTCAACTTCTTTGTTCAATATTCAAGAACTTATTATCAAAATATAGATCTGGGTTGAAATCAGAAATTGGAATCTTCTTCCCCATGCTCATCTTACGTGTGCTGGAGAATGTACTTCAGCCTAGTTTTTTGCAGAAGATGACTGTTTTGGGTTTGCTGGAGGACATATCTAAGGATCCCCAGGTTATTATCGATGTATTTGTAAACTATGATTGTGATGTTGATGCTCCTAACATATTTGAAAGGACTGTTAATGGTCTTCTTAAAACTGCACTTGGTCCGCCTCCTGGTTCCACTACTACGCTGTCCCCAGTCCAAGATATTACATTTCGTTCTGAATCTGTGAAATGCTTAGTCACAATTATAAAGTCAATGGGGATGTGGATGGACCAACAACTGAAGGTAGGGGATCCCAATCAAGATAAAGTGTCTGATCATGAAGTGTCAGAAGCGGCTACTGGTGTCGGCGAAGAGGGTAATATAGACTATGAGCTGCATCCGGAAGCGAATTCTGAATTTTCTGGTGCTGCTGCCTTGGAGCAGCGTCGTGCTCATAAATTAGAAATACAGAAAGGCATTTCACTGTTCAACAGAAAGCCTTCAAAGGGTATTGATTTCTTAATGAGCACCAAAAAGATTGGCAATTCCCCAGAAGAAGTAGCTTCTTTTCTGAAAAATACAACTGGATTGAATCCGACCATCATTGGTGATTATTTGGGTGAAAGAGATGAGTTCCATCTGAAAGTTATGCATGCATATGTCGATTCTTTTAATTTTGAAGGTATGGACTTTGGTGAATCAATCAGATATTTCCTTCGAGGGTTCAGATTACCTGGTGAAGCTCAGAAGATTGACCGTATAATGGAGAAGTTTGCGGAGCGCTATTGTAAATGCAATCCTAACTCTTTTACCAGCGCAGATACAGCTTATGTGCTTGCTTACTCTGTGATAATGCTCAATACAGATGCACATAATAGCATGGTGAAAGATAAGATGACAAAAGCTGATTTTCTCCGGAACAATCGGGGGATTGACGACGGAAAGGATTTACCTGAAGATTATTTGGGTGCTCTTTATGACCAAATTGTAAGAAATGAGATAAAGATGAAAGCAGATTCTTCCGCTCCACAAAACAAGCAGGGGAACAGTCTTAATAAGCTGTTGGGCTTGGATGGTATACTGAATCTAGTATGGAAGCAGCGAGAGGAAAAACCATTGGGTGCAAATGGAATTCTAGTGAAGCATATTCAAGAGCAGTTTAAGGCAAAATCTGGAAAATCTGAGTCTATTTATTATGTCATTGCAGATCCAGCTATATTGAGATTTATGGTAGAAGTCTGCTGGGGTCCCATGCTTGCTGCTTTCAGTGTCACCCTAGACCAGAGTGATGATAAGAATGCCACTTCTCAATGTTTGCTAGGTTGCAGGCATGCTGTGCACATTACAGCTGTGATGGGTATGCAGACTCAGCGAGATGCTTTTGTCACCACTATGGCAAAGTTCACCAATCTTCATTGTGCGGCCGACATGAAACAAAAAAATGTTGATACAATGAAAACAATAATGTCAATTGCCATTGAAGATGGGAACTATCTTCATGAAGCATGGGAGCATATATTGACATGTCTATCTCGATTTGAGCATCTGCAGTTGCTGGGGGAGGGTGCACCATCTGATTCTTCCTTTTTTACTACCTCGAGCTCTGAATCTGAGGAAAAGTCATTGAAGTCAGCTGGATTTCCATCACTGAAGAAAAAAGGGACACTCCAGAATCCAACTGTTGCTGCTGTTGTTCGAGGGGGTTCATATGATAGCGCAACCGTTGGAGCTAACTCTCCAGCATTGGTGACTCCAGAACAGATAAATAACTTCATTTCAAACTTGAACTTGCTTGATCAGATCGGCAACTTTGAACTAAATCACATATTTGCTCATAGCCAAAGGCTGAACAGTGAAGCAATAGTAGCTTTTGTCAAGGCCCTTTGCAAAGTTTCAATGTCAGAACTACAGTCTCCAACAGATCCCCGTGTATTTAGCCTTACAAAAATTGTTGAAGTTGCGCACTATAACATGAACCGTATCAGATTAGTGTGGTCCCACATATGGAGTGTTCTTTCAGAGTTCTTTGTGGCTGTTGGTTTGTCAGAAAATCTTTCAGTTGCAATTTTTGTTATGGACTCGTTGCGACAACTTGCTATGAAGTTTTTAGAAAGAGAGGAACTGGCGAATTACAACTTTCAGAATGAATTTTTGAGACCATTTGTTATTGTTATGCAGAAAAGTAATTCTGCCGAAATCAGGGAGCTGATAGTTCGTTGTATTTCTCAAATGGTTCTGAGTCGGGTCAATAATGTAAAATCGGGGTGGAAGAGTGTTTTTATGGTTTTTACAGCTGCTGCTGCAGATGAAAGGAAGAATATTGTGTTGCTGGCCTTTGAAACCATGGAAAAGATTGTACGGGAATATTTTCGTTACATCACTGAGACTGAAACATTGACTTTTACGGATTGTGTTAGATGCCTCATCACCTTCACAAACAGCAGATTCAACAGTGATGTTAGCCTCAACGCAATTGCTTTTCTCCGTTTCTGTGCTGTCAAACTTGCAGAAGGGGGCCTTATTAGCAACGAGAAAAACAAAAATAATGATTTAGCCATTCCTGCGGCCGAAAAAGAAGCTTCGGATGGGCTAATCTTCACAGATAAGGATGACTACATGTCTTTCTGGGAGCCTCTGCTCACAGGGTTATCAAGATTGACTTCTGATCCTCGATCAGCTATTAGAAAGAGTGCGTTGGAAGTTCTGTTCAACATCTTGAAGGACCACGGTCATCTCTTCCCACGCCTATTCTGGATTAATGTCTTCAAGTCTGTAATCTATCCAATATTCAGTCCAGTAAATGATAGCACAGAAGCTCAAGTGAAATCCAGATACATACCACCACCAGGTGGATGCTTATGGGACTCTGAAACTTCTGTGGTGGCAACTCAATGTTTGGTGGATTTATTTGTTAATTTCTTTGATATTGTGAGGTCTGAATTGCCCAGTGTAGTCTCTGTAATGGTAGGGTTTATAAAAGGTTCTGGCAAGGATCCTGCAGCCACTGGGGTAGCTTCTGTAATGAGGTTGGCAGGTGATTTGAGAGGCAAATTCATTGAAGAGGAATGGAAAGTTATCTTTCTAGCTCTGGAAGAAGCTTCGTATTCCACTCTGCCCAATTTTCTGAAGCTATTGAGAACAATGGACAACATTGAGATATCTTCTAGTCAGTCCGAAAATGATATGGAAACATCTTCTGGGGCTGGATTGGCAAATGATGAATCAGAGGATGACAACCTGCATACTGCGGGATATGTTGTATCAAGAATGAAAGATCATATAGCGGCTCAGTTGCGCATCATACAGGTGTCGTCTGATGTCTACAATATGTGTCGGCAATCAGTATCAGCTGATACTGTCAATGTCCTCCTTGGAATCTATTCAGCTGTCACTTCTCATGCCCGGCAACTGAAATCTGAGAAAGTTGTACAAGTGAAGCTGCAGAAAGCATGTTCTATCCTTGAGATACCAGAACCTCCACTGGTGTTTTTTGAAAATGAATCCTATCAGAATTACCTCACTTTCTTGCATGGGCTGCTTGTGAACAATTCATCATTTGTCGAAGAGAAGAATATAGAACCAAAACTTGTGGGTGTATGTGAAGAAATTCTGCACATATACTTGGACTGTGCTGGGTTGAGCTCTGTCAAGAGGAAAGCAGATGATAAGGCAATATACCAATGGAATCTTCCCTTAAGTTCGGCTAAGAAGGAAGAACTGGTAGCAAGGACTCCTTTGGTTCTGTCAGTACTACGCATTCTGTGCAGTTGGCAAACTGATTCTTTTAGGAAGTACATTTCTCAGTTGTTCCCATTAATGATAGATCTTGTTCGGAGTGAGCACAGCTCAGGAGAGGTTCAGCGTGAACTAAGCCATTTTTTCCAATCCTGTATCGGCCCTATTATTCTGAAATTGTGA\n"
            var pep=">Smechr0100001.1\n" +
                    "MSASQALGGPSRCGWVLGPSLDKIIKNVAWRKHSQLVAACKSALDKLDSVVDDPVDPASCTPLYGLSPSDADFVLQPLIMALDSASPKVVEPALDCSFRLFSLGLIRCEIETPTPYPTPSPNANPSPYSHIFRLIDSVCKCGALGDEAIELAVLRVLLSAIRSPYVLVRGDCLVHIVRSCYNVYLGGMNGTNQICAKSVLAQMMIIVFTRVEENSMMVNFKTVSVAELLEFTDRNLNEGSSIQMAQNFLNEIVDVKSKEGITESKLCLLLENDNSEKKGEPIDSEPGEGADLSGYNKIREDGFMLFKNLCKLSMKFSSQEHADDNILLRGKVLSLELLKVIMDNAGPIWRSNERFLNVIKQFLCLSLLKNSALSVMTIFQLLCSIFKNLLSKYRSGLKSEIGIFFPMLILRVLENVLQPSFLQKMTVLGLLEDISKDPQVIIDVFVNYDCDVDAPNIFERTVNGLLKTALGPPPGSTTTLSPVQDITFRSESVKCLVTIIKSMGMWMDQQLKVGDPNQDKVSDHEVSEAATGVGEEGNIDYELHPEANSEFSGAAALEQRRAHKLEIQKGISLFNRKPSKGIDFLMSTKKIGNSPEEVASFLKNTTGLNPTIIGDYLGERDEFHLKVMHAYVDSFNFEGMDFGESIRYFLRGFRLPGEAQKIDRIMEKFAERYCKCNPNSFTSADTAYVLAYSVIMLNTDAHNSMVKDKMTKADFLRNNRGIDDGKDLPEDYLGALYDQIVRNEIKMKADSSAPQNKQGNSLNKLLGLDGILNLVWKQREEKPLGANGILVKHIQEQFKAKSGKSESIYYVIADPAILRFMVEVCWGPMLAAFSVTLDQSDDKNATSQCLLGCRHAVHITAVMGMQTQRDAFVTTMAKFTNLHCAADMKQKNVDTMKTIMSIAIEDGNYLHEAWEHILTCLSRFEHLQLLGEGAPSDSSFFTTSSSESEEKSLKSAGFPSLKKKGTLQNPTVAAVVRGGSYDSATVGANSPALVTPEQINNFISNLNLLDQIGNFELNHIFAHSQRLNSEAIVAFVKALCKVSMSELQSPTDPRVFSLTKIVEVAHYNMNRIRLVWSHIWSVLSEFFVAVGLSENLSVAIFVMDSLRQLAMKFLEREELANYNFQNEFLRPFVIVMQKSNSAEIRELIVRCISQMVLSRVNNVKSGWKSVFMVFTAAAADERKNIVLLAFETMEKIVREYFRYITETETLTFTDCVRCLITFTNSRFNSDVSLNAIAFLRFCAVKLAEGGLISNEKNKNNDLAIPAAEKEASDGLIFTDKDDYMSFWEPLLTGLSRLTSDPRSAIRKSALEVLFNILKDHGHLFPRLFWINVFKSVIYPIFSPVNDSTEAQVKSRYIPPPGGCLWDSETSVVATQCLVDLFVNFFDIVRSELPSVVSVMVGFIKGSGKDPAATGVASVMRLAGDLRGKFIEEEWKVIFLALEEASYSTLPNFLKLLRTMDNIEISSSQSENDMETSSGAGLANDESEDDNLHTAGYVVSRMKDHIAAQLRIIQVSSDVYNMCRQSVSADTVNVLLGIYSAVTSHARQLKSEKVVQVKLQKACSILEIPEPPLVFFENESYQNYLTFLHGLLVNNSSFVEEKNIEPKLVGVCEEILHIYLDCAGLSSVKRKADDKAIYQWNLPLSSAKKEELVARTPLVLSVLRILCSWQTDSFRKYISQLFPLMIDLVRSEHSSGEVQRELSHFFQSCIGPIILKL*\n"

            $(function () {
                formValidation();
            });


            function change(element, t) {
                var value = $(element).find(">option:selected").val();
                if (value == "text") {
                    $(".fileinput-remove-button").click();
                    $(".monospace").val("");
                    $("#" + t + "QueryContent").show();
                    $("#" + t + "QueryFile").hide();
                }else if(value == "geneid"){
                    $(".fileinput-remove-button").click();
                    $(".monospace").val("");
                    $("#" + t + "QueryContent").hide();
                    $("#" + t + "QueryFile").hide()
                } else {
                    $(".monospace").val("");
                    $("#" + t + "QueryContent").hide();
                    $("#" + t + "QueryFile").show()
                }
            }

            function downloadExcel() {
                var fileName = "blast_2.txt";
                var content = excel;
                var blob = new Blob([content], {
                    type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"
                });
                saveAs(blob, fileName)
            }



            function showExample(type, formId) {
                var seq = "";

                if (type == "dna"){
                    seq = dna;
                } else if (type == "cds") {
                    seq = cds;
                }
                else {
                    seq=pep;
                }
                $("#" + formId + " #queryText").val(seq);
                $("#" + formId).formValidation("revalidateField", "queryText")
            }


            function blast(formId) {
                var form = $("#" + formId)
                var fv = form.data("formValidation");
                fv.validate();
                if (fv.isValid()) {
                    var form1 = new FormData($("#" + formId)[0]);

                    var element = "<div id='content'><span id='info'>Query...</span>&nbsp;<img class='runningImage' src='/assets/images/running2.gif' style='width: 30px;height: 20px;'></div>"
                    var index = layer.alert(element, {
                        skin: 'layui-layer-lan'
                        , closeBtn: 0,
                        title: "Info",
                        btn: []
                    });

                    $.ajax({
                        url: "@routes.BlastController.blastRun()",
                        type: "post",
                        processData: false,
                        contentType: false,
                        data: form1,
                        success: function (data) {
                            if (data.valid === "false") {
                                layer.close(index);
                                swal("Error", data.message, "error");
                                $("#result").hide()
                            } else {
                                $("#frame").attr("src", "/Eggplant/blastResultBefore?path=" + data.html + "&types=" + data.types);
                                excel = data.excel;

                                if (data.types === "blastnGenome") {
                                    window.setTimeout(function () {
                                        layer.close(index);
                                        $("#result").show();
                                        //click事件不能直接绑定在a标签上，必须在a标签内的元素里
                                        $("#showResult").click();
                                    }, 3000)
                                } else {
                                    layer.close(index);
                                    $("#result").show();
                                    //click事件不能直接绑定在a标签上，必须在a标签内的元素里
                                    $("#showResult").click();
                                }
                            }
                        }
                    });
                }
            }



            function formValidation() {
                $('#form').formValidation({
                    framework: 'bootstrap',
                    icon: {
                        valid: 'glyphicon glyphicon-ok',
                        invalid: 'glyphicon glyphicon-remove',
                        validating: 'glyphicon glyphicon-refresh'
                    },
                    fields: {
                        queryText: {
                            validators: {
                                notEmpty: {
                                    message: 'This is not be empty!'
                                }
                            }
                        },
                        file: {
                            validators: {
                                notEmpty: {
                                    message: 'File is required！'
                                },
                                file: {
                                    extension: 'fa,fasta',
                                    message: 'Query file must is a fasta file！'
                                }
                            }
                        },
                        evalue: {
                            validators: {
                                notEmpty: {
                                    message: 'Evalue is required！'
                                },
                                numeric: {
                                    message: 'Evalue must be number！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Evalue must greater than or equal to 0！"
                                }
                            }
                        },
                        wordSize: {
                            validators: {
                                notEmpty: {
                                    message: 'Word size is required！'
                                },
                                integer: {
                                    message: 'Word size must be intger！'
                                },
                                greaterThan: {
                                    value: 4,
                                    message: "Word size must greater than or equal to 4！"
                                }
                            }
                        },
                        maxTargetSeqs: {
                            validators: {
                                notEmpty: {
                                    message: 'Max target seqs is required！'
                                },
                                integer: {
                                    message: 'Max target seqs must be integer！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Max target seqs must greater than or equal to 0！"
                                }
                            }
                        }
                    }
                });
                $('#genomeForm').formValidation({
                    framework: 'bootstrap',
                    icon: {
                        valid: 'glyphicon glyphicon-ok',
                        invalid: 'glyphicon glyphicon-remove',
                        validating: 'glyphicon glyphicon-refresh'
                    },
                    fields: {
                        queryText: {
                            validators: {
                                notEmpty: {
                                    message: 'This is not be empty!'
                                }
                            }
                        },
                        file: {
                            validators: {
                                notEmpty: {
                                    message: 'File is required！'
                                },
                                file: {
                                    extension: 'fa,fasta',
                                    message: 'Query file must is a fasta file！'
                                }
                            }
                        },
                        evalue: {
                            validators: {
                                notEmpty: {
                                    message: 'Evalue is required！'
                                },
                                numeric: {
                                    message: 'Evalue must be number！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Evalue must greater than or equal to 0！"
                                }
                            }
                        },
                        wordSize: {
                            validators: {
                                notEmpty: {
                                    message: 'Word size is required！'
                                },
                                integer: {
                                    message: 'Word size must be intger！'
                                },
                                greaterThan: {
                                    value: 4,
                                    message: "Word size must greater than or equal to 4！"
                                }
                            }
                        },
                        maxTargetSeqs: {
                            validators: {
                                notEmpty: {
                                    message: 'Max target seqs is required！'
                                },
                                integer: {
                                    message: 'Max target seqs must be integer！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Max target seqs must greater than or equal to 0！"
                                }
                            }
                        }
                    }
                });
                $('#blastpForm').formValidation({
                    framework: 'bootstrap',
                    icon: {
                        valid: 'glyphicon glyphicon-ok',
                        invalid: 'glyphicon glyphicon-remove',
                        validating: 'glyphicon glyphicon-refresh'
                    },
                    fields: {
                        queryText: {
                            validators: {
                                notEmpty: {
                                    message: 'This is not be empty!'
                                }
                            }
                        },
                        file: {
                            validators: {
                                notEmpty: {
                                    message: 'File is required！'
                                },
                                file: {
                                    extension: 'fa,fasta',
                                    message: 'Query file must is a fasta file！'
                                }
                            }
                        },
                        evalue: {
                            validators: {
                                notEmpty: {
                                    message: 'Evalue is required！'
                                },
                                numeric: {
                                    message: 'Evalue must be number！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Evalue must greater than or equal to 0！"
                                }
                            }
                        },
                        wordSize: {
                            validators: {
                                notEmpty: {
                                    message: 'Word size is required！'
                                },
                                integer: {
                                    message: 'Word size must be intger！'
                                },
                                between: {
                                    min: 0,
                                    max: 8,
                                    inclusive: false,
                                    message: "Word size must less than  8！"
                                }
                            }
                        },
                        maxTargetSeqs: {
                            validators: {
                                notEmpty: {
                                    message: 'Max target seqs is required！'
                                },
                                integer: {
                                    message: 'Max target seqs must be integer！'
                                },
                                greaterThan: {
                                    value: 0,
                                    message: "Max target seqs must greater than or equal to 0！"
                                }
                            }
                        }
                    }
                });
            }




            $("#input-1").fileinput({
                showPreview: false
            });


            function Reset(obj) {
                $("#" + obj + "QueryContent").show();
                $("#" + obj + "QueryFile").hide();


            }



    </script>















@*    <script>*@

@*            var excel = "";*@


@*            var dna = ">example1\n" +*@
@*                    "ATGAAAATAATCAATATTTCTATTTCAGAAGAGTTAGAGTGTATTGATATTGAAAACGGTACTGTCGATGTTTCTGTTGAATTATCGGATGGTTATACCTACAAGCTTCGTTTTGCAACGCCCAAATATATTGAATTTTTAATAGATAAGGAAAAAATGGATTATTATAGACCCTCTTATCCATTTAACTTTGTAAGCAAGTTAACACGAGAAGTTATTGAACAAGGAGTCAAAGATTTATTAAAATACGACGCGTATTGGTTAAAGGTTTATCATTTTGCAGGATCTCTTGGGATGATCGATAAGAGTACATTTGATAAACTCAAAACGAACCATAGTAAAGAAAAATTAAATGATTTAGACGATTAA\n" +*@
@*                    ">example2\n" +*@
@*                    "ATGACTATCCCCAATAACTACTATAGAAAAGAATTTTTAACATTAAAAGAAATTGTTATGAAAGTCAACAATATTCGTATTTTAGACGATTTGGAAAACATTGACATTGAAAACGATAATGTCGATGTTTTCGTCGAAACAGACGATGGTTATAATTATACACTTAGTTTGGCAACGCCCAAACATATCGAATCTTTAATCAAGAAAGAAAAAAAGAATTACTATGGACCAGGTTATCCATTTATTTTTGTCAATAAATTAACCAAAGAAAATATTGAGCAGGCAGTCAAAGCTTTGGTAGAAGAAAATGGGGGTTATTGGTTAAAGGTTTACCATTTTGGAGGATGCGGTGGAGTTATCGATGAGAGCATGTTTGAGCAACTCAAAGCGAAACAGAGCGAAAAAAGAAAAGAATTTGTTAAGTTAGACGCATTAGACTTGATCCGGGAATCAAAGAATATGCTAAAAAATGAGGTAAATGAGAGAAACCTGATCCATTTGGTTGAGCACTATCGAAGTGGAAACATAAATTCAGGGCTTAAACTTAGAATAGTTCCGGGAACTTGTCTCAGTGAATTAAGGGCAAAGGGTGGAGCCCGCATCTACTTTCAAAAAAAAACTGATAGGATTGAAGTGGTGGCAATTTCCGACAAGGACAATCAAACATCGGTAATTAATAAGTTGAAATTGGTTTACCCAAAATAA\n";*@
@*            var pro = ">example1\n" +*@
@*                    "MVIIKKTHNSFSLKHRHCNHTLKFGRLGLKILSFSKITENQFNLIERLSL\n" +*@
@*                    "KFLKNLSGNKKLIKIWSLVPFNLTLTKLSSEARMGKGKGAVYSRAFFLRP\n" +*@
@*                    "GSILFEFEGVSKHQLTQISSILRKKTSFRIVEVQLPSK\n" +*@
@*                    ">example2\n" +*@
@*                    "MQSFFTQWISRWIFSTNHKDIGTLYLIFGAFSGVLGGCMSMLIRMELAQP\n" +*@
@*                    "SNHLLLGNHQIYNVLITAHAFLMIFFMVMPVMIGGFGNWLVPIMIGSPDM\n" +*@
@*                    "AFPRLNNISFWLLPPSLCLLLMSALVEVGVGTGWTVYPPLSSIQSHSGGA\n" +*@
@*                    "VDLAIFSLHISGASSILGAVNFISTILNMRSPGQSMYRIPLFVWSILVTA\n" +*@
@*                    "FLLLLAVPVLAGAITMLLTDRNFNTSFFDASGGGDPILYQHLFWFFGHPE\n" +*@
@*                    "VYILILPGFGMISHIVSTFSRKPVFGYIGMVYAMVSIGVLGFIVWAHHMY\n" +*@
@*                    "TVGLDVDTRAYFTAATMIIAVPTGIKIFSWIATIWEGSIHLKTPMLFAIG\n" +*@
@*                    "FIFLFTIGGLTGIVLANSGLDISLHDTYYVVAHFHYVLSMGAVFAIFAGF\n" +*@
@*                    "YYWFGKITGLQYPETLGQIHFWSTFIGVNLTFMPMHFLGLAGMPRRIPDY\n" +*@
@*                    "PDAYAGWNLIASYGSYIALFSTLFFFYIVFVSLTSNNPCTNFPWEFNKSK\n" +*@
@*                    "TYGVSTLEWIVTSPPAYHTFEEMPLIYETKSN";*@

@*            $(function () {*@

@*                formValidation()*@
@*            });*@


@*            function change(element, t) {*@
@*                var value = $(element).find(">option:selected").val();*@
@*                if (value == "text") {*@
@*                    $(".fileinput-remove-button").click();*@
@*                    $("#" + t + "QueryContent").show();*@
@*                    $("#" + t + "QueryFile").hide()*@
@*                } else {*@
@*                    $(".blast-text").val("");*@
@*                    $("#" + t + "QueryContent").hide();*@
@*                    $("#" + t + "QueryFile").show()*@
@*                }*@
@*            }*@

@*            function downloadExcel() {*@
@*                var fileName = "blast.xls";*@
@*                var content = excel;*@
@*                var blob = new Blob([content], {*@
@*                    type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"*@
@*                });*@
@*                saveAs(blob, fileName)*@
@*            }*@

@*            function showExample(type, formId) {*@
@*                var seq = "";*@

@*                if (type == "protein") {*@
@*                    seq = pro;*@
@*                } else {*@
@*                    seq = dna;*@
@*                }*@

@*                $("#" + formId + " #queryText").val(seq);*@
@*                $("#" + formId).formValidation("revalidateField", "queryText")*@
@*            }*@

@*            function blast(formId) {*@
@*                var form = $("#" + formId);*@
@*                form.formValidation("revalidateField", "queryText");*@
@*                form.formValidation("revalidateField", "file");*@
@*                var fv = form.data("formValidation");*@
@*                fv.validate();*@
@*                if (fv.isValid()) {*@
@*                    var form1 = new FormData($("#" + formId)[0]);*@

@*                    var index = layer.load(1, {*@
@*                        shade: [0.1, '#fff']*@
@*                    });*@

@*                    $.ajax({*@
@*                        url: "/PODB/tools/blastRun",*@
@*                        type: "post",*@
@*                        processData: false,*@
@*                        contentType: false,*@
@*                        data: form1,*@
@*                        success: function (data) {*@
@*                            layer.close(index);*@
@*                            if (data.valid == "false") {*@
@*                                swal("Error", data.message, "error");*@
@*                                $("#result").hide()*@
@*                            } else {*@
@*                                $("#frame").attr("src", "/PODB/tools/blastResultBefore?path=" + data.html + "&types=" +*@
@*                                        data.types + "&db=" + data.db);*@

@*                                excel = data.excel;*@
@*                                $("#result").show();*@
@*                                //click事件不能直接绑定在a标签上，必须在a标签内的元素里*@
@*                                $("#showResult").click();*@
@*                            }*@
@*                        }*@
@*                    });*@
@*                }*@
@*            }*@

@*            function formValidation() {*@
@*                $('#form').formValidation({*@
@*                    framework: 'bootstrap',*@
@*                    icon: {*@
@*                        valid: 'glyphicon glyphicon-ok',*@
@*                        invalid: 'glyphicon glyphicon-remove',*@
@*                        validating: 'glyphicon glyphicon-refresh'*@
@*                    },*@
@*                    fields: {*@
@*                        queryText: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'This is not be empty!'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        file: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'File is required！'*@
@*                                },*@
@*                                file: {*@
@*                                    extension: 'fa,fasta',*@
@*                                    message: 'Query file must is a fasta file！'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        evalue: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Evalue is required！'*@
@*                                },*@
@*                                numeric: {*@
@*                                    message: 'Evalue must be number！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Evalue must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        wordSize: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Word size is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Word size must be intger！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 4,*@
@*                                    message: "Word size must greater than or equal to 4！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        maxTargetSeqs: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Max target seqs is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Max target seqs must be integer！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Max target seqs must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        }*@
@*                    }*@
@*                });*@
@*                $('#genomeForm').formValidation({*@
@*                    framework: 'bootstrap',*@
@*                    icon: {*@
@*                        valid: 'glyphicon glyphicon-ok',*@
@*                        invalid: 'glyphicon glyphicon-remove',*@
@*                        validating: 'glyphicon glyphicon-refresh'*@
@*                    },*@
@*                    fields: {*@
@*                        queryText: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'This is not be empty!'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        file: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'File is required！'*@
@*                                },*@
@*                                file: {*@
@*                                    extension: 'fa,fasta',*@
@*                                    message: 'Query file must is a fasta file！'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        evalue: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Evalue is required！'*@
@*                                },*@
@*                                numeric: {*@
@*                                    message: 'Evalue must be number！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Evalue must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        wordSize: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Word size is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Word size must be intger！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 4,*@
@*                                    message: "Word size must greater than or equal to 4！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        maxTargetSeqs: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Max target seqs is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Max target seqs must be integer！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Max target seqs must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        }*@
@*                    }*@
@*                });*@
@*                $('#blastpForm').formValidation({*@
@*                    framework: 'bootstrap',*@
@*                    icon: {*@
@*                        valid: 'glyphicon glyphicon-ok',*@
@*                        invalid: 'glyphicon glyphicon-remove',*@
@*                        validating: 'glyphicon glyphicon-refresh'*@
@*                    },*@
@*                    fields: {*@
@*                        queryText: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'This is not be empty!'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        file: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'File is required！'*@
@*                                },*@
@*                                file: {*@
@*                                    extension: 'fa,fasta',*@
@*                                    message: 'Query file must is a fasta file！'*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        evalue: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Evalue is required！'*@
@*                                },*@
@*                                numeric: {*@
@*                                    message: 'Evalue must be number！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Evalue must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        wordSize: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Word size is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Word size must be intger！'*@
@*                                },*@
@*                                between: {*@
@*                                    min: 0,*@
@*                                    max: 8,*@
@*                                    inclusive: false,*@
@*                                    message: "Word size must less than  8！"*@
@*                                }*@
@*                            }*@
@*                        },*@
@*                        maxTargetSeqs: {*@
@*                            validators: {*@
@*                                notEmpty: {*@
@*                                    message: 'Max target seqs is required！'*@
@*                                },*@
@*                                integer: {*@
@*                                    message: 'Max target seqs must be integer！'*@
@*                                },*@
@*                                greaterThan: {*@
@*                                    value: 0,*@
@*                                    message: "Max target seqs must greater than or equal to 0！"*@
@*                                }*@
@*                            }*@
@*                        }*@
@*                    }*@
@*                });*@
@*            }*@

@*            $("#input-1").fileinput({*@
@*                showPreview: false*@
@*            });*@

@*            function Reset(obj) {*@
@*                $("#" + obj + "QueryContent").show();*@
@*                $("#" + obj + "QueryFile").hide();*@


@*            }*@



@*    </script>*@





}